/*! YOOtheme Pro v1.21.10 | https://yootheme.com */
!function(u){"use strict";u=u&&u.hasOwnProperty("default")?u.default:u;!function(t,e){void 0===e&&(e={});var n=e.insertAt;if(t&&"undefined"!=typeof document){var o=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css","top"===n&&o.firstChild?o.insertBefore(i,o.firstChild):o.appendChild(i),i.styleSheet?i.styleSheet.cssText=t:i.appendChild(document.createTextNode(t))}}(".tm-editor{width:100%;height:400px;background:#fff;border:1px solid #ddd;margin-top:20px;text-align:center}.tm-link{display:inline-block;margin:20px auto;color:#888}.tm-button{display:block;box-sizing:border-box;width:280px;max-width:100%;margin:150px auto 0;padding:20px 30px;border-radius:2px;background:linear-gradient(140deg,#fe67d4,#4956e3);box-shadow:inset 0 0 1px 0 rgba(0,0,0,.5);line-height:10px;color:#fff!important;font-size:11px;font-weight:700;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,sans-serif;text-align:center;text-decoration:none!important;text-transform:uppercase;letter-spacing:2px;-webkit-font-smoothing:antialiased}.tm-active #editor-xtd-buttons,.tm-active #jform_articletext,.tm-active .CodeMirror,.tm-active .label{display:none}.modal.modal-builder{top:25%;width:500px;margin-left:-250px}.modal.modal-builder .modal-body p{margin:20px}");var f={},p=window.location.href;function h(t){return t}u(function(){var t,e,o,n,i,a=window.$articles.url+"&return="+encodeURIComponent(p),l=/<!--\s?({(?:.*?)})\s?-->/,d=u("#jform_articletext"),r=u("#general .editor, #general .js-editor-tinymce, #adminForm #editor .editor, #adminForm #editor .js-editor-tinymce"),s=d.length&&d.val().match(l),c=r.length?r.parent():d.parent();function m(t){u(r).attr("hidden",!!t),u(c).toggleClass("tm-active",!!t),u(".tm-editor").attr("hidden",!t)}t=c,u('<div class="tm-editor" hidden>\n        <a href="'+a+'" class="tm-button">'+h("YOOtheme Builder")+'</a>\n        <a href class="tm-link">&#8592; '+h("Back to Default Editor")+"</a>\n    </div>").appendTo(t),function(t,e){var n=u(t);n.length||(n=u('<div id="editor-xtd-buttons" class="btn-toolbar pull-left">').insertBefore("#general .toggle-editor"));n.prepend(u('<a class="btn btn-primary"><span class="icon-star"></span> '+h("YOOtheme Builder")+"</a>").attr("href",e))}("#general #editor-xtd-buttons",a),e='[name="adminForm"]',o=function(){return f.dirty=!0},n=window.tinyMCE,i=void 0===n?{}:n,u(e).on("change",o),i.editors&&(i.on&&(i.on("AddEditor",function(t){var e=t.editor;return e.on("change",o)}),i.editors.forEach(function(t){return t.on("change",o)})),i.onAddEditor&&(i.editors.forEach(function(t){var e=t.onChange;return e.add(o)}),i.onAddEditor.add(function(t,e){var n=e.onChange;return n.add(o)}))),u("body").on("click",".tm-link",function(t){var e;t.preventDefault(),(e=a,f.dialog=f.dialog||u('<div class="modal modal-builder" tabindex="-1" role="dialog">\n        <div class="modal-dialog" role="document">\n            <div class="modal-content">\n                <div class="modal-body">\n                    <p>'+h("This article was previously edited with the YOOtheme Builder. You can continue in the Default Editor, but you will lose all formatting.")+'</p>\n                </div>\n                <div class="modal-footer">\n                    <a class="btn btn-primary" href="'+e+'">'+h("Edit in YOOtheme Builder")+'</a>\n                    <button class="btn btn-secondary tm-default" type="button" data-dismiss="modal">'+h("Continue to Default Editor")+"</button>\n                </div>\n            </div>\n        </div>\n    </div>").appendTo("body")).modal()}).on("click",".tm-default",function(t){t.preventDefault(),m();var e=window,n=e.Joomla,o=e.tinyMCE,i=void 0===o?{}:o,a=n.editors.instances.jform_articletext,d=a.getValue(),r=d.replace(l,"");a.setValue(r),i.activeEditor&&i.activeEditor.getContent()===d&&i.activeEditor.setContent(r),a.refresh&&a.refresh()}),m(s)})}(jQuery);
